<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>JollyWorld - Blueprint Uploader</title>
	<link rel="shortcut icon" href="https://warze.org/static/jollyworld/favicon-32x32.png" />
	<meta property="og:title" content="JollyWorld blueprints" />
	<meta property="og:type" content="website" />
	<meta property="og:image" content="https://warze.org/static/jollyworld/jollyworld-bp.png"/>
	<meta property="og:description" content="User-friendly Tool for talented artists in the JollyWorld community to upload blueprints easily and have them appear in the Editor." />
	<meta property="description" content="User-friendly Tool for talented artists in the JollyWorld community to upload blueprints easily and have them appear in the Editor." />
	<meta name="theme-color" content="#3d7d1e">
	<meta name="google" content="notranslate">
	<link rel="stylesheet" href="https://warze.org/static/jollyworld/blueprints.css">
	<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</head>
<body>
	<img src="https://warze.org/static/jollyworld/jollyblueprintssmall.png">
	<div id="page">
		<div id="stepbox" style="display:none">
			<button class="stepbutton" id="navstep1" onclick="goToStep(0)">1</button>
			<button class="stepbutton" id="navstep2" onclick="goToStep(1)" disabled>2</button>
			<button class="stepbutton" id="navstep3" onclick="goToStep(2)" disabled>3</button>
		</div>
		<div id="step1" class="section">
			<h1>Step 1/3 - JollyData</h1>
			<hr class="mainhr">
			<textarea id="jollydatainput" placeholder="Paste JollyData here" oninput="readData(this.value)"></textarea>
			<h1 style="color:red; display:none" id="jollydataerror">Invalid JollyData</h1>
			<button class="button" id="continuebutton1" disabled onclick="goToStep(1)">Continue</button>
		</div>
		<div id="step2" class="section">
			<h1>Step 2/3 - Collection</h1>
			<hr class="mainhr">
			<select id="collectiondropdown" onchange="selectCollection(this.value)" name="Collection">
				<option id="customcollectionplaceholder" value="Select Collection">Select Collection</option>
			</select>
			<br>
			<span onclick="setCustomCollection()" id="customcollectiontext">No fitting collection? Click here to add your own.</span>
			<button class="button" style="display:block" id="continuebutton2" disabled onclick="goToStep(2)">Continue</button>
		</div>
		<div id="step3" class="section">
			<h1>Step 3/3 - Name</h1>
			<hr class="mainhr">
			<span>Describe the object in your blueprint shortly</span>
			<input type="name" id="blueprintname" placeholder="Enter name here" oninput="readName(this.value)">
			<button class="button" id="continuebutton3" disabled onclick="goToConfirm()">Continue</button>
		</div>
		<div id="step4" class="section">
			<h1>Confirm before Uploading</h1>
		</div>
		<div id="step5" class="section">
			<img id="billyjoel" src="https://warze.org/static/jollyworld/billyjoel.png">
			<div id="thankyou">
				<h1>Success!</h1>
				<span>You've uploaded your blueprint! Thank you for contributing to JollyWorld.</span>
			</div>
			<a class="button wide blue redirect" href="/blueprints/">Upload another blueprint</button>
			<a class="button wide red redirect" href="/blueprintsmanager/">Manage blueprints</a>
			<a class="button wide redirect" href="/">Go back to JollyWorld</a>
		</div>
	</div>
	<div id="previewwindow" style="right: -400px; display:none">
		<h1>Preview</h1>
		<button id="previewbutton" onclick="togglePreview()"><</button>
		<img src="" id="previewimage">
		<hr class="previewhr">
		<span class="label">Selected Collection:<b id="selectedcollection">None</b></span>
		<hr class="previewhr">
		<span class="label">Selected Name:<b id="selectedname">None</b></span>
		<button id="uploadbutton" class="button red" onclick="upload()" disabled>Upload</button>
	</div>
	<img id="themebutton" src="https://warze.org/static/jollyworld/thememain.png" onclick="toggleTheme()">
	<lottie-player id="confetti" src="https://assets8.lottiefiles.com/packages/lf20_rovf9gzu.json" background="transparent" speed="1"></lottie-player>
	<script>
		function _0x2ac4(){var _0x4958f1=['1079875GNsLQk','.png','<jollyData-','step4','394164bmdjJk','<h1>ðŸ””</h1><h1>','step2','classList','jollydataerror','-400px','rotateZ(0deg)','step5','Invalid\x20Format','continuebutton3','match','display','innerHTML','collectiondropdown','userid','step1','step3','continuebutton1','data','jollyImageRendering','https://warze.org/blueprints/submit','JollyData\x20is\x20too\x20short','none','confetti','file.png','133mjtGFl','main','dark','setAttribute','270464pwkoQY','postMessage','width','tempJollyRenderReadyInterval','Bearer\x20','previewimage','removeAttribute','https://warze.org/blueprints/collections?approved=0','oauth-token','GET','selectedcollection','rotateZ(180deg)','iframe','uploadbutton','length','previewwindow','4990100tBYpew','replace','then','18MhgHgR','bottom\x201s\x20ease-in-out,\x20opacity\x201s\x20linear','4211946wqxHXT','jollyImageRendered','disabled','imageData','transition','JollyData\x20is\x20too\x20long','translateY(-500px)','username','POST','bottom','send','add','div','style','renderJollyImage','transform','stepbox','src','opacity','continuebutton2','14810MZNzmb','charCodeAt','navstep','oauth','addEventListener','blueprintname','name','load','append','message','translateY(0px)','Logged\x20in\x20as\x20','getItem','</option>','341266huUCnV','right','<h1\x20style=\x27color:#D70000\x27>You\x20must\x20be\x20logged\x20into\x20JollyWorld\x20to\x20use\x20this\x20page.\x20Please\x20Login\x20and\x20Reload\x20this\x20page.</h1><a\x20href=\x27/\x27><button\x20class=\x27button\x20wide\x20green\x27>Go\x20to\x20JollyWorld</button></a>','previewbutton','19261MdVNek','jollyImageRenderingAckReady','customcollectionplaceholder','user','contentWindow','files[]','createElement','setItem','45px','appendChild','https://warze.org/static/jollyworld/theme','endsWith','value','5px','body','Successfully\x20uploaded\x20blueprint','jwbpTheme','Enter\x20Collection\x20Name','notification','block','</h1>','theme','play','responseText','documentElement','18qepIZN','-35px','height'];_0x2ac4=function(){return _0x4958f1;};return _0x2ac4();}var _0x4aef4a=_0x2574;(function(_0x1735f0,_0x241994){var _0x290abd=_0x2574,_0x394fa6=_0x1735f0();while(!![]){try{var _0x1d23c0=parseInt(_0x290abd(0x14b))/0x1+-parseInt(_0x290abd(0x168))/0x2*(-parseInt(_0x290abd(0x16f))/0x3)+parseInt(_0x290abd(0x19c))/0x4+parseInt(_0x290abd(0x16b))/0x5*(-parseInt(_0x290abd(0x19f))/0x6)+parseInt(_0x290abd(0x188))/0x7*(parseInt(_0x290abd(0x18c))/0x8)+parseInt(_0x290abd(0x1a1))/0x9+parseInt(_0x290abd(0x1b5))/0xa*(-parseInt(_0x290abd(0x14f))/0xb);if(_0x1d23c0===_0x241994)break;else _0x394fa6['push'](_0x394fa6['shift']());}catch(_0x1a46d6){_0x394fa6['push'](_0x394fa6['shift']());}}}(_0x2ac4,0x9c5d9));const minimum_blueprint_length=0x96,maximum_blueprint_length=0x7a120;function $(_0x4bbe3d){return document['getElementById'](_0x4bbe3d);}const getBackendUserData=()=>{return new Promise((_0x52f771,_0x5f58e0)=>{var _0x5c094f=_0x2574;const _0x551098={'method':_0x5c094f(0x195),'withCredentials':!![],'headers':{'Authorization':_0x5c094f(0x190)+localStorage[_0x5c094f(0x149)](_0x5c094f(0x194))}};fetch('https://api.jollyworld.app/me',_0x551098)[_0x5c094f(0x19e)](_0x4a3686=>_0x4a3686['json']())[_0x5c094f(0x19e)](_0x311248=>{var _0x5c2b28=_0x5c094f;const {error:_0x338dfa}=_0x311248;_0x338dfa&&($(_0x5c2b28(0x17e))[_0x5c2b28(0x17b)]=_0x5c2b28(0x14d)),_0x52f771(_0x311248);});});};var logged_in_as={};getBackendUserData()[_0x4aef4a(0x19e)](_0x5d8901=>{var _0x549fcb=_0x4aef4a;_0x5d8901[_0x549fcb(0x1a8)]!=undefined&&(logged_in_as[_0x549fcb(0x152)]=_0x5d8901[_0x549fcb(0x1a8)],logged_in_as['id']=_0x5d8901['id'],triggerNotification(_0x549fcb(0x148)+_0x5d8901['username']));});var collectionReq=new XMLHttpRequest();collectionReq[_0x4aef4a(0x1b9)](_0x4aef4a(0x144),function(){var _0x11d07a=_0x4aef4a;collections=JSON['parse'](this['responseText']);for(i in collections){$('collectiondropdown')['innerHTML']+='<option\x20value=\x22'+collections[i]+'\x22>'+collections[i]+_0x11d07a(0x14a);}}),collectionReq['open'](_0x4aef4a(0x195),_0x4aef4a(0x193)),collectionReq[_0x4aef4a(0x1ab)]();function selectCollection(_0x3377ea){var _0xca6704=_0x4aef4a;$(_0xca6704(0x196))[_0xca6704(0x17b)]=_0x3377ea,$(_0xca6704(0x1b4))[_0xca6704(0x192)](_0xca6704(0x1a3));}function triggerNotification(_0x2e31e8){var _0x55c370=_0x4aef4a,_0x5d57f=document[_0x55c370(0x155)](_0x55c370(0x1ad));_0x5d57f[_0x55c370(0x17b)]=_0x55c370(0x170)+_0x2e31e8+_0x55c370(0x163),_0x5d57f[_0x55c370(0x1ae)][_0x55c370(0x1a5)]='all\x201s\x20ease-in-out',_0x5d57f[_0x55c370(0x172)][_0x55c370(0x1ac)](_0x55c370(0x161)),_0x5d57f['style']['bottom']=_0x55c370(0x169),_0x5d57f['style'][_0x55c370(0x1b3)]='0',document[_0x55c370(0x15d)][_0x55c370(0x158)](_0x5d57f),setTimeout(function(){var _0xd45677=_0x55c370;_0x5d57f[_0xd45677(0x1ae)][_0xd45677(0x1b3)]='1',_0x5d57f[_0xd45677(0x1ae)]['bottom']=_0xd45677(0x15c),setTimeout(function(){var _0x2c6345=_0xd45677;_0x5d57f[_0x2c6345(0x1ae)][_0x2c6345(0x1b3)]='0',_0x5d57f[_0x2c6345(0x1ae)][_0x2c6345(0x1aa)]=_0x2c6345(0x157);},0xbb8);},0xa);}var steps=[$(_0x4aef4a(0x17e)),$(_0x4aef4a(0x171)),$(_0x4aef4a(0x17f)),$(_0x4aef4a(0x16e)),$(_0x4aef4a(0x176))],current_step=0x0,selected_jollydata;function goToStep(_0x43097c){var _0x2367fe=_0x4aef4a;if(_0x43097c==current_step)return;$('stepbox')[_0x2367fe(0x1ae)]['display']=_0x2367fe(0x162),$('previewwindow')[_0x2367fe(0x1ae)][_0x2367fe(0x17a)]=_0x2367fe(0x162),steps[current_step][_0x2367fe(0x1ae)][_0x2367fe(0x1b0)]=_0x2367fe(0x1a7),steps[current_step][_0x2367fe(0x1ae)][_0x2367fe(0x1b3)]=0x0,setTimeout(function(){var _0x43de3c=_0x2367fe;steps[current_step]['style']['display']=_0x43de3c(0x185),steps[current_step][_0x43de3c(0x1ae)]['opacity']=0x1;try{steps[_0x43097c]['style'][_0x43de3c(0x17a)]=_0x43de3c(0x162),$(_0x43de3c(0x1b7)+(_0x43097c+0x1))[_0x43de3c(0x192)]('disabled');}catch(_0x385d5a){}steps[current_step][_0x43de3c(0x1ae)][_0x43de3c(0x1b0)]=_0x43de3c(0x147),current_step=_0x43097c;},0x12c);}var pngfile;async function readData(_0x310cb0){var _0x2fe0e0=_0x4aef4a;$('jollydataerror')[_0x2fe0e0(0x1ae)][_0x2fe0e0(0x17a)]='block',$('continuebutton1')['setAttribute']('disabled',!![]),$(_0x2fe0e0(0x1b1))['style']['display']=_0x2fe0e0(0x185);if(!_0x310cb0['startsWith'](_0x2fe0e0(0x16d))||!_0x310cb0[_0x2fe0e0(0x15a)]('>')){$(_0x2fe0e0(0x173))[_0x2fe0e0(0x17b)]=_0x2fe0e0(0x177);return;}if(_0x310cb0[_0x2fe0e0(0x19a)]<minimum_blueprint_length){$(_0x2fe0e0(0x173))[_0x2fe0e0(0x17b)]=_0x2fe0e0(0x184);return;}if(_0x310cb0['length']>maximum_blueprint_length){$(_0x2fe0e0(0x173))['innerHTML']=_0x2fe0e0(0x1a6);return;}selected_jollydata=_0x310cb0,$(_0x2fe0e0(0x173))[_0x2fe0e0(0x1ae)][_0x2fe0e0(0x17a)]=_0x2fe0e0(0x185),$(_0x2fe0e0(0x180))[_0x2fe0e0(0x192)](_0x2fe0e0(0x1a3)),goToStep(0x1),await renderJollyDataToImage(iframe,_0x310cb0)[_0x2fe0e0(0x19e)](_0x508566=>{var _0x489240=_0x2fe0e0;$(_0x489240(0x191))[_0x489240(0x1b2)]=_0x508566[_0x489240(0x1a4)],pngfile=dataURLtoFile(_0x508566['imageData']);});}function readName(_0x373820){var _0x5219df=_0x4aef4a;_0x373820[_0x5219df(0x19a)]>0x3?($(_0x5219df(0x178))[_0x5219df(0x192)](_0x5219df(0x1a3)),$('selectedname')[_0x5219df(0x17b)]=_0x373820):$('continuebutton3')[_0x5219df(0x18b)](_0x5219df(0x1a3),!![]);}function togglePreview(_0x4737e4=![]){var _0x55a265=_0x4aef4a;previewwindow['style'][_0x55a265(0x14c)]==_0x55a265(0x174)||_0x4737e4?($(_0x55a265(0x19b))[_0x55a265(0x1ae)]['right']='0px',$('previewbutton')['style'][_0x55a265(0x1b0)]=_0x55a265(0x197)):($(_0x55a265(0x19b))[_0x55a265(0x1ae)][_0x55a265(0x14c)]=_0x55a265(0x174),$(_0x55a265(0x14e))[_0x55a265(0x1ae)][_0x55a265(0x1b0)]=_0x55a265(0x175));}function goToConfirm(){var _0x4a0ab5=_0x4aef4a;togglePreview(!![]),$(_0x4a0ab5(0x199))[_0x4a0ab5(0x192)](_0x4a0ab5(0x1a3)),goToStep(0x3);}function dataURLtoFile(_0x38865d){var _0x1484bb=_0x4aef4a,_0x4c68d6=_0x38865d['split'](','),_0x564b1b=_0x4c68d6[0x0][_0x1484bb(0x179)](/:(.*?);/)[0x1],_0x383fbf=atob(_0x4c68d6[0x1]),_0xad36ba=_0x383fbf[_0x1484bb(0x19a)],_0x16cf4d=new Uint8Array(_0xad36ba);while(_0xad36ba--){_0x16cf4d[_0xad36ba]=_0x383fbf[_0x1484bb(0x1b6)](_0xad36ba);}return new File([_0x16cf4d],_0x1484bb(0x187),{'type':_0x564b1b});}function _0x2574(_0x5cd115,_0x5971a1){var _0x2ac44e=_0x2ac4();return _0x2574=function(_0x257465,_0x2fc1f9){_0x257465=_0x257465-0x143;var _0x256f38=_0x2ac44e[_0x257465];return _0x256f38;},_0x2574(_0x5cd115,_0x5971a1);}function uploadListener(){var _0x4d1952=_0x4aef4a;this[_0x4d1952(0x166)]==_0x4d1952(0x15e)?showSuccess():(triggerNotification(this[_0x4d1952(0x166)]),$(_0x4d1952(0x199))[_0x4d1952(0x192)]('disabled'));}function upload(){var _0xbfbf58=_0x4aef4a;$(_0xbfbf58(0x199))['setAttribute'](_0xbfbf58(0x1a3),!![]);var _0x4b3574=$('selectedcollection')[_0xbfbf58(0x17b)],_0x467efa=$(_0xbfbf58(0x1ba))[_0xbfbf58(0x15b)],_0x3c5361=new FormData();_0x3c5361['append'](_0xbfbf58(0x181),selected_jollydata[_0xbfbf58(0x19d)](_0xbfbf58(0x16d),'')[_0xbfbf58(0x19d)]('>','')),_0x3c5361[_0xbfbf58(0x145)](_0xbfbf58(0x154),pngfile),_0x3c5361['append']('collection',_0x4b3574),_0x3c5361['append'](_0xbfbf58(0x143),_0x467efa),_0x3c5361[_0xbfbf58(0x145)](_0xbfbf58(0x1a8),logged_in_as[_0xbfbf58(0x152)]),_0x3c5361[_0xbfbf58(0x145)](_0xbfbf58(0x17d),logged_in_as['id']),_0x3c5361[_0xbfbf58(0x145)](_0xbfbf58(0x1b8),localStorage[_0xbfbf58(0x149)]('oauth-token'));var _0x3614cd=new XMLHttpRequest();_0x3614cd['addEventListener'](_0xbfbf58(0x144),uploadListener),_0x3614cd['open'](_0xbfbf58(0x1a9),_0xbfbf58(0x183)),_0x3614cd[_0xbfbf58(0x1ab)](_0x3c5361);}function showSuccess(){var _0x3ad17e=_0x4aef4a;goToStep(0x4),togglePreview(),$(_0x3ad17e(0x186))[_0x3ad17e(0x165)](),$(_0x3ad17e(0x19b))[_0x3ad17e(0x1ae)][_0x3ad17e(0x17a)]=_0x3ad17e(0x185),$(_0x3ad17e(0x1b1))[_0x3ad17e(0x1ae)][_0x3ad17e(0x17a)]=_0x3ad17e(0x185);}const renderJollyDataToImage=(_0x23a4ca,_0x292356)=>{return new Promise((_0x49b348,_0xb0a4d2)=>{var _0x14a13b=_0x2574;const _0x30c1cb=()=>{var _0x18c79b=_0x2574;_0x23a4ca[_0x18c79b(0x153)][_0x18c79b(0x18d)]({'type':_0x18c79b(0x1af),'jollyData':_0x292356},'*');},_0x2bb91b=_0x40a0a1=>{var _0x5b8a1c=_0x2574;_0x40a0a1[_0x5b8a1c(0x181)]['type']==='jollyImageRenderingReady'&&(window[_0x5b8a1c(0x182)]=!![],clearInterval(window['tempJollyRenderReadyInterval']),_0x30c1cb()),_0x40a0a1[_0x5b8a1c(0x181)]['type']===_0x5b8a1c(0x1a2)&&(window['removeEventListener'](_0x5b8a1c(0x146),_0x2bb91b),_0x49b348(_0x40a0a1['data']));};window[_0x14a13b(0x1b9)]('message',_0x2bb91b),!window[_0x14a13b(0x182)]?window[_0x14a13b(0x18f)]=setInterval(()=>{var _0x33b320=_0x14a13b;_0x23a4ca['contentWindow'][_0x33b320(0x18d)]({'type':_0x33b320(0x150)},'*');},0xc8):_0x30c1cb();});};var iframe=document[_0x4aef4a(0x155)](_0x4aef4a(0x198));iframe['src']='https://jollyworld.app/',iframe[_0x4aef4a(0x18e)]=0x0,iframe[_0x4aef4a(0x16a)]=0x0,iframe[_0x4aef4a(0x1ae)][_0x4aef4a(0x17a)]=_0x4aef4a(0x185),document[_0x4aef4a(0x15d)][_0x4aef4a(0x158)](iframe);function triggerNotification(_0x3dc1ac){var _0x22b1ae=_0x4aef4a,_0x409b0d=document[_0x22b1ae(0x155)](_0x22b1ae(0x1ad));_0x409b0d[_0x22b1ae(0x17b)]=_0x22b1ae(0x170)+_0x3dc1ac+_0x22b1ae(0x163),_0x409b0d[_0x22b1ae(0x1ae)][_0x22b1ae(0x1a5)]=_0x22b1ae(0x1a0),_0x409b0d['classList'][_0x22b1ae(0x1ac)](_0x22b1ae(0x161)),_0x409b0d['style'][_0x22b1ae(0x1aa)]=_0x22b1ae(0x169),_0x409b0d[_0x22b1ae(0x1ae)][_0x22b1ae(0x1b3)]='0',document['body'][_0x22b1ae(0x158)](_0x409b0d),setTimeout(function(){var _0x34dca6=_0x22b1ae;_0x409b0d['style'][_0x34dca6(0x1b3)]='1',_0x409b0d[_0x34dca6(0x1ae)][_0x34dca6(0x1aa)]=_0x34dca6(0x15c),setTimeout(function(){var _0x4314e5=_0x34dca6;_0x409b0d[_0x4314e5(0x1ae)]['opacity']='0',_0x409b0d['style']['bottom']='45px';},0xbb8);},0xa);}function toggleTheme(){var _0x3fbe25=_0x4aef4a,_0x45b315=document[_0x3fbe25(0x167)]['getAttribute']('theme')==_0x3fbe25(0x18a)?_0x3fbe25(0x189):_0x3fbe25(0x18a);document[_0x3fbe25(0x167)][_0x3fbe25(0x18b)](_0x3fbe25(0x164),_0x45b315),$('themebutton')[_0x3fbe25(0x1b2)]=_0x3fbe25(0x159)+_0x45b315+_0x3fbe25(0x16c),localStorage[_0x3fbe25(0x156)](_0x3fbe25(0x15f),_0x45b315);}localStorage[_0x4aef4a(0x149)](_0x4aef4a(0x15f))==_0x4aef4a(0x18a)&&toggleTheme();function setCustomCollection(){var _0x192e8c=_0x4aef4a,_0x2d8f30=prompt(_0x192e8c(0x160));$(_0x192e8c(0x151))[_0x192e8c(0x17b)]=_0x2d8f30,$(_0x192e8c(0x151))['value']=_0x2d8f30,$(_0x192e8c(0x17c))['value']=_0x2d8f30,selectCollection(_0x2d8f30);}
	</script>
</body>
</html>
